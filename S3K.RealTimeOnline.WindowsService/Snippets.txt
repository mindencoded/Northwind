
//
// Create CRUD to BancoRepository with a IDbConnection as parameter
int codigo = 10;

Banco banco = new Banco
{
    Nombre = "Bank for delete",
    Estado = 1
};

int result;

using (BancoRepository repository = new BancoRepository(new ConnectionFactory("Default").Create()))//ConnectionBuilder.DbConnection()
{
          //  -> Select
        IEnumerable<Banco> bancos = repository.Select(banco, Condition.And);
            ConsoleTable.From(bancos).Write();

      //  -> SelectById
        banco = repository.SelectById(codigo);
            Console.WriteLine(@"{0} | {1} | {2}", banco.Codigo, banco.Nombre, banco.Estado);

       // -> Insert
        result = repository.Insert(banco);
            if (result > 0)
            {
                Console.WriteLine(@"Last id inserted is {0}", result);
            }

       // -> Update
        result = repository.Update(codigo, banco);
            if (result > 0)
            {
                Console.WriteLine(@"Updated successful");
            }

       // -> Delete
        result = repository.Delete(codigo);
            if (result > 0)
            {
                Console.WriteLine(@"Deleted successful");
            }
}

